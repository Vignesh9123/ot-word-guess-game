{% extends "layout.html" %}
{% block content %}
<h1 class="text-3xl font-bold text-center">Admin</h1>

<form method="post" class="flex flex-col gap-5 items-center mt-5">
    {% csrf_token %}
    <div>
        <label for="date">Enter the username of the user you want the report for:</label>
        <input type="text" name="username" id="username" class="bg-gray-300 p-1 rounded-md" required>
    </div>
    
    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" type="submit">Generate Report</button>
</form>

{% if report %}
<h2 class="text-3xl font-bold text-center mt-5">Report</h2>
<div class="flex justify-center items-center mt-5">
    <table class="table-auto">
        <tr>
            {% for header in report.headers %}
                <th class="border border-gray-300 p-2">{{ header }}</th>
            {% endfor %}
        </tr>
    {% for row in report.values %}
        <tr>
            {% for cell in row %}
                <td class="border border-gray-300 p-2">{{ cell }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </div>
</div>
{% endif %}


{% endblock content %}