{% extends "layout.html" %}

{% block content %}
<div class="max-w-3xl mx-auto mt-10">
    <h1 class="text-4xl font-extrabold text-center text-gray-800 tracking-wide">
        Welcome {% if user %} Back {% endif %} to 
        <span class="text-blue-600">Word Guessing Game</span>
    </h1>

    {% if user %}
    <div class="flex flex-col items-center mt-8 gap-3">
        <p class="text-lg text-gray-700">Hello, <span class="font-semibold">{{ user.username }}</span></p>
        <a href="{% url 'logout' %}" 
           class="bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-5 rounded-lg shadow transition">
           Logout
        </a>
    </div>

    <p class="text-center text-gray-600 mt-4">
        You have played <span class="font-semibold">{{ games_played_today }}</span> games today.
    </p>

    <div class="flex flex-col items-center gap-4 mt-8">
        <a href="{% url 'start_game' %}" 
           class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg shadow-md transition transform">
           Start Game
        </a>

        {% if user.is_admin %}
        <div class="flex flex-wrap justify-center gap-4 mt-6">
            <a href="{% url 'admin_day' %}" 
               class="bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-5 rounded-lg shadow-md transition">
                Day Report
            </a>
            <a href="{% url 'admin_user' %}" 
               class="bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-5 rounded-lg shadow-md transition">
                User Report
            </a>
        </div>
        {% endif %}
    </div>

    {% else %}
    <div class="flex flex-col gap-4 items-center mt-10">
        <a href="{% url 'register' %}" 
           class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg shadow-md transition transform ">
           Register
        </a>
        <a href="{% url 'login' %}" 
           class="bg-gray-700 hover:bg-gray-800 text-white font-medium py-3 px-6 rounded-lg shadow-md transition transform">
           Login
        </a>
    </div>
    {% endif %}

    {% if messages %}
    <ul class="messages flex flex-col gap-3 mt-8 max-w-md mx-auto">
        {% for message in messages %}
        <li class="p-3 rounded-lg w-full text-center shadow 
                   {% if message.tags == 'error' %}
                       bg-red-100 text-red-700 border border-red-300
                   {% elif message.tags == 'success' %}
                       bg-green-100 text-green-700 border border-green-300
                   {% else %}
                       bg-gray-100 text-gray-700 border border-gray-300
                   {% endif %}">
            {{ message }}
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</div>
{% endblock content %}